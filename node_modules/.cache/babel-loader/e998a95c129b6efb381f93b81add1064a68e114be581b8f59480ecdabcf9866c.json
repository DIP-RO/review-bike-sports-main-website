{"ast":null,"code":"var _jsxFileName = \"F:\\\\sunshine-full-project\\\\robert\\\\src\\\\Pages\\\\MyReviews\\\\MyReviews.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useContext } from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { AuthContext } from \"../../Context/UserContext/UserContext\";\nimport useTitle from \"../../Hooks/useTitle\";\nimport MyReviewCard from \"./MyReviewCard\";\nimport \"./MyReview.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MyReviews = () => {\n  _s();\n  const {\n    logOut\n  } = useContext(AuthContext);\n  useTitle(\"My Reviews\");\n  const {\n    user\n  } = useContext(AuthContext);\n  const [review, setReview] = useState([]);\n  useEffect(() => {\n    fetch(` https://server-bay-theta.vercel.app/review?email=${user.email}`, {\n      headers: {\n        authorization: `Bearer ${localStorage.getItem(\"RobertToken\")}`\n      }\n    }).then(res => {\n      if (res.status === 401 || res.status === 403) {\n        return logOut();\n      }\n      return res.json();\n    }).then(data => {\n      const userBasedReview = data.filter(d => d.customerEmail === (user === null || user === void 0 ? void 0 : user.email));\n      setReview(userBasedReview);\n    });\n  }, [logOut, user === null || user === void 0 ? void 0 : user.email]);\n  const handleDeleteReview = id => {\n    console.log(id);\n    fetch(`https://server-bay-theta.vercel.app/review/${id}`, {\n      method: \"DELETE\"\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n      if (data.deletedCount > 0) {\n        toast.error(\"Comment Deleted Successfully\");\n        const remainingReviews = review.filter(rev => rev._id !== id);\n        setReview(remainingReviews);\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \" px-4 mb-60 md:px-48 my-10\",\n    children: review.length !== 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: review === null || review === void 0 ? void 0 : review.map(rev => /*#__PURE__*/_jsxDEV(MyReviewCard, {\n        rev: rev,\n        handleDeleteReview: handleDeleteReview\n      }, rev._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this))\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-nothing \",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"md:text-4xl text-2xl font-bold text-center \",\n        children: [\" \", \"No reviews were added\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(MyReviews, \"oYUfy2AyZXof9bD2FqSbeCrlCKI=\", false, function () {\n  return [useTitle];\n});\n_c = MyReviews;\nexport default MyReviews;\nvar _c;\n$RefreshReg$(_c, \"MyReviews\");","map":{"version":3,"names":["React","useContext","useEffect","useState","toast","AuthContext","useTitle","MyReviewCard","jsxDEV","_jsxDEV","Fragment","_Fragment","MyReviews","_s","logOut","user","review","setReview","fetch","email","headers","authorization","localStorage","getItem","then","res","status","json","data","userBasedReview","filter","d","customerEmail","handleDeleteReview","id","console","log","method","deletedCount","error","remainingReviews","rev","_id","className","children","length","map","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["F:/sunshine-full-project/robert/src/Pages/MyReviews/MyReviews.js"],"sourcesContent":["import React from \"react\";\nimport { useContext } from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { AuthContext } from \"../../Context/UserContext/UserContext\";\nimport useTitle from \"../../Hooks/useTitle\";\nimport MyReviewCard from \"./MyReviewCard\";\nimport \"./MyReview.css\";\n\nconst MyReviews = () => {\n  const { logOut } = useContext(AuthContext);\n  useTitle(\"My Reviews\");\n\n  const { user } = useContext(AuthContext);\n  const [review, setReview] = useState([]);\n\n  useEffect(() => {\n    fetch(` https://server-bay-theta.vercel.app/review?email=${user.email}`, {\n      headers: {\n        authorization: `Bearer ${localStorage.getItem(\"RobertToken\")}`,\n      },\n    })\n      .then((res) => {\n        if (res.status === 401 || res.status === 403) {\n          return logOut();\n        }\n        return res.json();\n      })\n      .then((data) => {\n        const userBasedReview = data.filter(\n          (d) => d.customerEmail === user?.email\n        );\n        setReview(userBasedReview);\n      });\n  }, [logOut, user?.email]);\n\n  const handleDeleteReview = (id) => {\n    console.log(id);\n    fetch(`https://server-bay-theta.vercel.app/review/${id}`, {\n      method: \"DELETE\",\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        if (data.deletedCount > 0) {\n          toast.error(\"Comment Deleted Successfully\");\n          const remainingReviews = review.filter((rev) => rev._id !== id);\n\n          setReview(remainingReviews);\n        }\n      });\n  };\n\n  return (\n    <div className=\" px-4 mb-60 md:px-48 my-10\">\n      {review.length !== 0 ? (\n        <>\n          {review?.map((rev) => (\n            <MyReviewCard\n              key={rev._id}\n              rev={rev}\n              handleDeleteReview={handleDeleteReview}\n            ></MyReviewCard>\n          ))}\n        </>\n      ) : (\n        <div className=\"text-nothing \">\n          <h1 className=\"md:text-4xl text-2xl font-bold text-center \">\n            {\" \"}\n            No reviews were added\n          </h1>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MyReviews;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}